<nav class="second_nav">
    <ul class="second_nav__items">
        <li class="second_nav__item"><a href="/admin/methodist/" class="second_nav__link">Вернуться на
                к списку методистов </a></li>
    </ul>
</nav>
</div>
</header>

<main>
    <section>
        {{#if notice}}
        <h3> {{ notice}}</h3>
        {{/if}}
    </section>
    <section class="profile">
        {{#if methodistInfo.length}}
        {{#each methodistInfo}}

        <div class="profile__info">

            <section class="profile__block personal">
                <h2 class="profile__title">Личные данные</h2>
                <div class="personal__buttons">
                    <a href="/admin/methodist/edit/main_data/{{id_user}}"> Редактировать </a>
                    <!-- <a href="#">Оценить</a> -->
                </div>
                <div>
                    <div>
                        <h4 class="profile__subtitle">ФИО</h4>

                        <p class="personal__fullname">{{surname}} {{firstname}} {{patronymic}}</p>
                    </div>
                    <div>
                        <h4 class="profile__subtitle">Дата рождения</h4>
                        <p class="personal__birthday"> {{birthday_formated}}</p>
                    </div>
                    <div>
                        <h4 class="profile__subtitle">Направление</h4>
                        <p class="personal__snils">{{title_position}}</p>
                    </div>
                    <div>
                        <h4 class="profile__subtitle">Место работы</h4>
                        <p class="personal__snils">{{department}}</p>
                    </div>
                </div>
            </section>


            <section class="profile__block profile__contacts contacts">
                <h2 class="profile__title">Контактные данные</h2>
                <div>
                    <div>
                        <h4 class="profile__subtitle">Email</h4>
                        <p class="contacts__email">{{email}}</p>
                    </div>

                    <div>
                        <h4 class="profile__subtitle">Телефон</h4>
                        <p class="contacts__phone">{{phone}}</p>
                    </div>
                </div>
            </section>
            {{/each}}
            {{else}}
            <h2> Методист не найден!</h2>
            {{/if}}
            <section class="profile__block profile__training training">
                <h2 class="profile__title">Дисциплины </h2>
                <h4>Доступные дисциплины для оценивания</h4>
                <div>
                    <h4 class="profile__subtitle">Список дисциплин</h4>
                    {{#if discipline_list.length}}
                    <ol class="training__projects projects__list">
                        {{#each discipline_list}}
                        <li style="list-style-type: none;">
                            <p class="title_category">{{title_discipline}}</p>
                        </li>
                        {{/each}}
                    </ol>
                </div>
                {{/if}}
                <a href="#" class="profile__button profile__button--delete">Удалить профиль!</a>
            </section>
        </div>

        <div class="modal">
            <div class="modal__cross">x</div>
            <h3 class="modal__question">Вы уверены, что хотите удалить этот профиль?</h3>
            <div class="modal__answer modal__answer--yes">Да</div>
            <div href="/admin/methodist/delete_profile/{{id_user}}" class="modal__answer modal__answer--no">Нет
            </div>
        </div>
    </section>

</main>

<script type="text/javascript">
    let modal = document.querySelector('.modal');
    let cross = document.querySelector('.modal__cross');
    let black = document.querySelector('.black');
    let closeButton = document.querySelector('.modal__answer--no');
    let body = document.querySelector('body');

    cross.addEventListener('click', closeModal);
    black.addEventListener('click', closeModal);
    closeButton.addEventListener('click', closeModal);
    document.addEventListener('keyup', event => {
        if (event.keyCode === 27) { closeModal() }
    })


    function closeModal() {
        modal.style.display = 'none';
        black.style.display = 'none';
        body.style.height = 'auto';
        body.style.overflow = 'auto';
    }

    let deleteButton = document.querySelector('.profile__button--delete');
    deleteButton.addEventListener('click', event => {
        modal.style.display = 'block';
        black.style.display = 'block';
        body.style.height = '100vh';
        body.style.overflow = 'hidden';
    })
</script>